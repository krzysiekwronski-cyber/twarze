<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Twarze – galeria portretów</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #111;
      color: #f5f5f5;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header {
      padding: 1rem 1.5rem;
      border-bottom: 1px solid #333;
      background: #000;
    }

    header h1 {
      font-size: 1.4rem;
      margin-bottom: 0.25rem;
    }

    header p {
      font-size: 0.9rem;
      color: #aaa;
    }

    main {
      padding: 1rem;
      max-width: 1200px;
      width: 100%;
      margin: 0 auto;
      flex: 1;
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 1rem;
    }

    .thumb {
      background: #181818;
      border-radius: 10px;
      overflow: hidden;
      cursor: pointer;
      border: 1px solid #2b2b2b;
      display: flex;
      flex-direction: column;
      transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
    }

    .thumb:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.6);
      border-color: #555;
    }

    .thumb img {
      width: 100%;
      height: 220px;
      object-fit: cover;
      display: block;
      background: #000;
    }

    .thumb-caption {
      padding: 0.5rem 0.6rem 0.6rem;
      font-size: 0.8rem;
      color: #ddd;
      border-top: 1px solid #222;
      word-break: break-word;
    }

    /* Lightbox */

    .lightbox {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.9);
      display: none; /* pokażemy JS-em */
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }

    .lightbox.visible {
      display: flex;
    }

    .lightbox-inner {
      position: relative;
      max-width: 95vw;
      max-height: 95vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
    }

    .lightbox img {
      max-width: 95vw;
      max-height: 80vh;
      object-fit: contain;
      border-radius: 8px;
      box-shadow: 0 0 30px rgba(0,0,0,0.9);
      background: #000;
    }

    .lightbox-caption {
      font-size: 0.9rem;
      color: #eee;
      text-align: center;
      max-width: 80vw;
      word-break: break-word;
    }

    .lightbox-close {
      position: absolute;
      top: -40px;
      right: -4px;
      font-size: 1.8rem;
      cursor: pointer;
      color: #fff;
      padding: 0.2rem 0.4rem;
      line-height: 1;
      background: transparent;
      border: none;
    }

    .lightbox-close:hover {
      color: #ffdddd;
    }

    .lightbox-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      align-items: center;
      justify-content: center;
      width: 50px;
      height: 50px;
      cursor: pointer;
      font-size: 2rem;
      border-radius: 999px;
      background: rgba(0,0,0,0.4);
      border: 1px solid #555;
      user-select: none;
    }

    .lightbox-nav:hover {
      background: rgba(0,0,0,0.7);
    }

    .lightbox-prev {
      left: -60px;
    }

    .lightbox-next {
      right: -60px;
    }

    @media (max-width: 768px) {
      .thumb img {
        height: 180px;
      }
      .lightbox-prev {
        left: 5px;
      }
      .lightbox-next {
        right: 5px;
      }
      .lightbox-close {
        top: -35px;
        right: 0;
      }
    }

    footer {
      padding: 0.7rem 1.5rem 1rem;
      font-size: 0.75rem;
      color: #777;
      border-top: 1px solid #222;
      background: #000;
      text-align: right;
    }
  </style>
</head>
<body>
  <header>
    <h1>Popatrz im w oczy</h1>
    <p>Portrety prawdziwych ludzi ok. 1430–1450 – galeria z Twojego repozytorium GitHub.</p>
  </header>

  <main>
    <div id="gallery" class="gallery"></div>
  </main>

  <!-- LIGHTBOX -->
  <div id="lightbox" class="lightbox" aria-hidden="true">
    <div class="lightbox-inner">
      <button class="lightbox-close" aria-label="Zamknij">&times;</button>
      <div class="lightbox-nav lightbox-prev" aria-label="Poprzednie zdjęcie">&#10094;</div>
      <img id="lightbox-image" src="" alt="" />
      <div class="lightbox-nav lightbox-next" aria-label="Następne zdjęcie">&#10095;</div>
      <div id="lightbox-caption" class="lightbox-caption"></div>
    </div>
  </div>

  <footer>
    Sterowanie: kliknij miniaturę, aby powiększyć. Użyj strzałek (ikonek) lub klawiszy klawiatury ← →, Esc żeby wyjść.
  </footer>

  <script>
    // Lista obrazów z Twojego repo (pliki w tym samym katalogu co index.html)
    const images = [
      "Autoportret w chaperonie 1432 vEyck.jpg",
      "Edward_Grimston 1446 PChristus.jpg",
      "Francesco_Sforza 1460.jpg",
      "Giuliano Giamberti da Sangallo 1485 Piero di Cosimo.jpg",
      "Jan v Eyck portret m ok 1430.jpg",
      "Kartuz 1445 PCHristus.jpg",
      "Pan Włochy ok 1475 AdMessina.jpg",
      "Pan jan_de_leeuw 1436 vEyck.jpg",
      "Pan w chaperonie 1433 VEyck.jpg",
      "Pan w niebieskim chaperonie 1430 vEyck.jpg",
      "Philippe de Croÿa Rogier van der Weydena 1450–1460..jpg",
      "Pisanello_-_Filippo Maria ostatni książę Visconti zm 1447.jpg",
      "Włochy 1476 AdMessina.jpg",
      "dziadek 1490 Ghirlandaio.jpg",
      "kanclerz Rolin ur 1376 vEyck 1435.jpg",
      "kanonik van der Paele 1436 vEyck.jpg",
      "pan Baudouin de Lannoy 1439 vEyck.jpg",
      "poprzednie pokolenie Jan Bez Trwogi 1405.jpg"
    ];

    const galleryEl = document.getElementById("gallery");
    const lightboxEl = document.getElementById("lightbox");
    const lightboxImageEl = document.getElementById("lightbox-image");
    const lightboxCaptionEl = document.getElementById("lightbox-caption");

    const btnClose = document.querySelector(".lightbox-close");
    const btnPrev = document.querySelector(".lightbox-prev");
    const btnNext = document.querySelector(".lightbox-next");

    let currentIndex = 0;

    function buildGallery() {
      images.forEach((fileName, index) => {
        const thumb = document.createElement("div");
        thumb.className = "thumb";
        thumb.dataset.index = index;

        const img = document.createElement("img");
        // encodeURI zabezpiecza spacje i polskie znaki w URL-ach
        img.src = encodeURI(fileName);
        img.alt = fileName;
        img.loading = "lazy";

        const caption = document.createElement("div");
        caption.className = "thumb-caption";
        caption.textContent = fileName; // podpis = nazwa pliku

        thumb.appendChild(img);
        thumb.appendChild(caption);
        galleryEl.appendChild(thumb);

        thumb.addEventListener("click", () => {
          openLightbox(index);
        });
      });
    }

    function openLightbox(index) {
      currentIndex = index;
      updateLightboxImage();
      lightboxEl.classList.add("visible");
      lightboxEl.setAttribute("aria-hidden", "false");
    }

    function closeLightbox() {
      lightboxEl.classList.remove("visible");
      lightboxEl.setAttribute("aria-hidden", "true");
    }

    function updateLightboxImage() {
      const fileName = images[currentIndex];
      lightboxImageEl.src = encodeURI(fileName);
      lightboxImageEl.alt = fileName;
      lightboxCaptionEl.textContent = fileName;
    }

    function showNext() {
      currentIndex = (currentIndex + 1) % images.length;
      updateLightboxImage();
    }

    function showPrev() {
      currentIndex = (currentIndex - 1 + images.length) % images.length;
      updateLightboxImage();
    }

    // Eventy

    btnClose.addEventListener("click", closeLightbox);
    btnNext.addEventListener("click", showNext);
    btnPrev.addEventListener("click", showPrev);

    // Zamknięcie po kliknięciu w tło
    lightboxEl.addEventListener("click", (e) => {
      if (e.target === lightboxEl) {
        closeLightbox();
      }
    });

    // Klawiatura: Esc, strzałki
    document.addEventListener("keydown", (e) => {
      if (!lightboxEl.classList.contains("visible")) return;

      if (e.key === "Escape") {
        closeLightbox();
      } else if (e.key === "ArrowRight") {
        showNext();
      } else if (e.key === "ArrowLeft") {
        showPrev();
      }
    });

    // Start
    buildGallery();
  </script>
</body>
</html>


